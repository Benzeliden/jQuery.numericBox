(function(b){function r(b,d,a){var l=a.data(),c;for(c in d)if(d.hasOwnProperty(c)){var f=d[c],k=void 0;switch(typeof f){case "string":for(var f=f.split(","),g=0,n=f.length;g<n;g++)if(void 0!=l[f[g]]){k=l[f[g]];break}break;case "function":k=f(a)}void 0!==k&&(b[c]=k)}}function t(h,d){function a(){var b=this.value,e;e=g.options;var a=b.indexOf(e.separator),c=0<e.scale&&-1<a,f="-"==b[0],d=b.substring(f?1:0,c?a:b.length).replace(p,"");c&&(a=b.substring(a+1).replace(p,""),d+="."+a.substring(0,e.scale));
a=f?-d:+d;c=!1;a>e.max?(a=e.max,c=!0):a<e.min&&(a=e.min,c=!0);e=c?a.toString().replace(".",e.separator):(f?"-":"")+d.replace(".",e.separator);e!==b&&(this.value=e,-1!==m&&e===q&&this.setSelectionRange(m,m));q=e;m=this.selectionStart;return!0}function l(){if(0===this.value.length||"-"===this.value)this.value="0";m=-1}function c(){m=this.selectionStart}var f=b.extend({},b.fn.numericBox.defaultOptions),k=b(h),g=this,n=b.extend({},b.fn.numericBox.defaultOptions.setup,void 0!=d?d.setup:void 0);r(f,n,k);
g.options=b.extend(f,d);g.destroy=function(){k.off("keydown keypress keyup paste input",a).off("blur",l).off("focus",c).removeData("numericBox",void 0)};g.init=function(){k.on("keydown keypress keyup paste input",a).on("blur",l).on("focus",c).data("numericBox",g)};g.setOptions=function(c){b.extend(g.options,c);a.call(h)};var m=-1,q=h.value}var p=RegExp("[^0-9]","g");b.fn.numericBox=function(h,d){for(var a=0,l=this.length;a<l;a++)if(void 0==b(this[a]).data("numericBox")){var c=new t(this[a],h);c.init()}else if(c=
b(this[a]).data("numericBox"),"string"==typeof h&&"function"==typeof c[h])c[h](d);return b(this)};b.fn.numericBox.defaultOptions={scale:2,separator:".",min:0,max:100,setup:{min:"nboxMin,valRangeMin",max:"nboxMax,valRangeMax",scale:"nboxScale",separator:"nboxSeparator"}}})(jQuery);